function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{RN7a:function(e,t,i){"use strict";i.r(t),i.d(t,"CategoriesModule",(function(){return m}));var r=i("ofXK"),o=i("3Pt+"),a=i("tyNb"),c=i("/sur"),n=i("fXoL"),l=i("LazK");function s(e,t){1&e&&(n.Sb(0,"div",19),n.Sb(1,"div",20),n.Sb(2,"span",21),n.Bc(3,"Loading..."),n.Rb(),n.Rb(),n.Rb())}function b(e,t){if(1&e){var i=n.Tb();n.Sb(0,"tr"),n.Sb(1,"th",25),n.Bc(2),n.Rb(),n.Sb(3,"td"),n.Bc(4),n.Rb(),n.Sb(5,"td"),n.Bc(6),n.Rb(),n.Sb(7,"td"),n.Sb(8,"button",26),n.ec("click",(function(){n.tc(i);var e=t.$implicit;return n.gc(2).deleteCategorie(e)})),n.Ob(9,"i",27),n.Rb(),n.Sb(10,"button",28),n.ec("click",(function(){n.tc(i);var e=t.$implicit;return n.gc(2).updateCategorie(e)})),n.Ob(11,"i",29),n.Rb(),n.Rb(),n.Rb()}if(2&e){var r=t.$implicit,o=t.index;n.Ab(2),n.Cc(o+1),n.Ab(2),n.Cc(r.cod),n.Ab(2),n.Cc(r.descripcion)}}function d(e,t){if(1&e&&(n.Sb(0,"table",22),n.Sb(1,"thead"),n.Sb(2,"tr"),n.Sb(3,"th",23),n.Bc(4,"#"),n.Rb(),n.Sb(5,"th",23),n.Bc(6,"Codigo"),n.Rb(),n.Sb(7,"th",23),n.Bc(8,"Descripci\xf3n"),n.Rb(),n.Sb(9,"th",23),n.Bc(10,"#Tags"),n.Rb(),n.Rb(),n.Rb(),n.Sb(11,"tbody"),n.zc(12,b,12,3,"tr",24),n.Rb(),n.Rb()),2&e){var i=n.gc();n.Ab(12),n.lc("ngForOf",i.categories)}}var u,f,p,g=[{path:"",component:(u=function(){function e(t,i){_classCallCheck(this,e),this.fb=t,this.categorieService=i,this.cargaCompleted=!0,this.sweetAlert=new c.a,this.crearFormulario()}return _createClass(e,[{key:"ngOnInit",value:function(){this.allCategories()}},{key:"crearFormulario",value:function(){this.formulario=this.fb.group({cod:["",o.n.required],descripcion:["",o.n.required]})}},{key:"validarCampos",value:function(e){return this.formulario.get(e).invalid&&this.formulario.get(e).touched}},{key:"cargarFormulario",value:function(e){this.formulario.setValue({cod:e.cod,descripcion:e.descripcion}),this.idCategorie=e.key}},{key:"limpiarFormulario",value:function(){this.formulario.reset({cod:"",descripcion:""}),this.idCategorie=null}},{key:"allCategories",value:function(){var e=this;this.cargaCompleted=!1,this.categorieService.getAllCategories().subscribe((function(t){e.categories=t,e.cargaCompleted=!0}))}},{key:"addCategorie",value:function(){if(this.formulario.invalid)return Object.values(this.formulario.controls).forEach((function(e){e.markAsTouched()}));var e;this.sweetAlert.dialogAlertWait();var t=this.formulario.value;e=this.idCategorie?this.categorieService.updateCategorie(this.idCategorie,t):this.categorieService.addCategorie(t),this.showDialog(e,t.descripcion,this.idCategorie)}},{key:"updateCategorie",value:function(e){this.cargarFormulario(e)}},{key:"deleteCategorie",value:function(e){var t=this;this.sweetAlert.dialogAlertQuestion(e.descripcion).then((function(i){var r;i.value&&(r=t.categorieService.deleteCategorie(e),t.showDialog(r,e.descripcion))}))}},{key:"showDialog",value:function(e,t,i){var r=this;e.then((function(e){(e||i)&&(r.sweetAlert.dialogAlertSuccess(t),r.limpiarFormulario())})).catch((function(e){e&&r.sweetAlert.dialogAlertError(t)}))}},{key:"codigoNoValido",get:function(){return this.validarCampos("cod")}},{key:"descripcionNoValido",get:function(){return this.validarCampos("descripcion")}}]),e}(),u.\u0275fac=function(e){return new(e||u)(n.Nb(o.b),n.Nb(l.a))},u.\u0275cmp=n.Hb({type:u,selectors:[["app-categories"]],decls:26,vars:7,consts:[[1,"d-flex","justify-content-between","flex-wrap","flex-md-nowrap","align-items-center","pt-3","pb-2","mb-3","border-bottom"],[1,"h2"],[1,"btn-toolbar","mb-2","mb-md-0"],[1,"btn-group","mr-2"],["href","https://firebase.google.com/","target","_blanck",1,"alert","alert-warning"],[1,"text-muted"],[1,"p-2"],[3,"formGroup","ngSubmit"],[1,"form-row"],[1,"col"],["type","text","formControlName","cod","name","cod","placeholder","Codigo",1,"form-control"],["type","text","formControlName","descripcion","name","descripcion","placeholder","Descripci\xf3n",1,"form-control"],["type","submit",1,"btn","btn-sm","btn-outline-secondary"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"linea"],["class","text-center",4,"ngIf"],["class","table table-striped",4,"ngIf"],[1,"text-center"],["role","status",1,"spinner-border","text-success",2,"width","3rem","height","3rem"],[1,"sr-only"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"btn","btn-danger","mr-1","btn-cero",3,"click"],["aria-hidden","true",1,"fa","fa-window-close"],[1,"btn","btn-secondary","btn-cero",3,"click"],["aria-hidden","true",1,"fa","fa-pencil-square"]],template:function(e,t){1&e&&(n.Sb(0,"div",0),n.Sb(1,"h3",1),n.Bc(2,"Categorias"),n.Rb(),n.Sb(3,"div",2),n.Sb(4,"div",3),n.Sb(5,"a",4),n.Bc(6,"Activar Escritura en Firebase "),n.Sb(7,"span",5),n.Bc(8,"(no olvide desactivar luego)"),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(9,"div",6),n.Sb(10,"form",7),n.ec("ngSubmit",(function(){return t.addCategorie()})),n.Sb(11,"div",8),n.Sb(12,"div",9),n.Ob(13,"input",10),n.Rb(),n.Sb(14,"div",9),n.Ob(15,"input",11),n.Rb(),n.Sb(16,"button",12),n.Bc(17,"Agregar"),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(18,"div"),n.Sb(19,"div",13),n.Sb(20,"div",14),n.Sb(21,"h5",15),n.Bc(22,"Lista"),n.Rb(),n.Ob(23,"hr",16),n.zc(24,s,4,0,"div",17),n.zc(25,d,13,1,"table",18),n.Rb(),n.Rb(),n.Rb()),2&e&&(n.Ab(10),n.lc("formGroup",t.formulario),n.Ab(3),n.Fb("is-invalid",t.codigoNoValido),n.Ab(2),n.Fb("is-invalid",t.descripcionNoValido),n.Ab(9),n.lc("ngIf",!t.cargaCompleted),n.Ab(1),n.lc("ngIf",t.cargaCompleted))},directives:[o.p,o.i,o.d,o.a,o.h,o.c,r.k,r.j],styles:[".btn-cero[_ngcontent-%COMP%]{padding:0 5px}"]}),u)}],h=((p=function e(){_classCallCheck(this,e)}).\u0275mod=n.Lb({type:p}),p.\u0275inj=n.Kb({factory:function(e){return new(e||p)},imports:[[a.e.forChild(g)],a.e]}),p),m=((f=function e(){_classCallCheck(this,e)}).\u0275mod=n.Lb({type:f}),f.\u0275inj=n.Kb({factory:function(e){return new(e||f)},imports:[[r.c,h,o.k]]}),f)}}]);